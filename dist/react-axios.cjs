"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const y=require("react/jsx-runtime"),c=require("react"),L=require("axios"),P=c.createContext(void 0);function S(){const t=c.useContext(P);if(!t)throw new Error("useAxiosInstance must be used within an AxiosProvider");return t}function q({children:t,baseURL:n,withCredentials:s}){const[o,d]=c.useState(),l=(x,e)=>{d(u=>({...u,[x]:e}))},g=x=>{d(e=>{const u={...e};return delete u[x],u})},h=c.useMemo(()=>L.create({baseURL:n,withCredentials:s,headers:o}),[n,s,o]);return y.jsx(P.Provider,{value:{instance:h,addHeader:l,removeHeader:g},children:t})}function r(t){const{instance:n}=S(),[s,o]=c.useState(!1),[d,l]=c.useState(),[g,h]=c.useState(0);return{data:d,isLoading:s,execute:async e=>{var u,v;try{o(!0);const i=await n.request({url:t.path||(e==null?void 0:e.path),method:t.method,...["get","delete"].includes(t.method.toLowerCase())&&{params:e==null?void 0:e.data},...["post","put"].includes(t.method.toLowerCase())&&{data:e==null?void 0:e.data},...(e==null?void 0:e.responseType)&&{responseType:e.responseType},onUploadProgress:f=>{if(f.total){const A=Math.round(f.loaded*100/f.total);h(A),e!=null&&e.onProgress&&e.onProgress(A)}}});return e!=null&&e.onSuccess&&e.onSuccess(i.data),l(i.data),o(!1),i.data}catch(i){e!=null&&e.onError&&e.onError(((v=(u=i.response)==null?void 0:u.data)==null?void 0:v.message)||i.message),o(!1);return}},progress:g}}function w(t){const{data:n,execute:s,isLoading:o}=r({...t,method:"get"});return{data:n,isLoading:o,execute:s}}function C(t){const{data:n,execute:s,isLoading:o,progress:d}=r({...t,method:"post"});return{data:n,isLoading:o,execute:s,progress:d}}function T(t){const{data:n,execute:s,isLoading:o}=r({...t,method:"put"});return{data:n,isLoading:o,execute:s}}function j(t){const{data:n,execute:s,isLoading:o}=r({...t,method:"delete"});return{data:n,isLoading:o,execute:s}}exports.AxiosContext=P;exports.AxiosProvider=q;exports.useAxios=S;exports.useDelete=j;exports.useGet=w;exports.usePost=C;exports.usePut=T;exports.useRequest=r;
